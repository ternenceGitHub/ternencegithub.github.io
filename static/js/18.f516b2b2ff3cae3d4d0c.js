webpackJsonp([18],{TttP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Sxqw"),o=n.n(i),r=n("26vW"),a=n.n(r),s=n("DK4l"),l=n.n(s),u=n("3SZ7"),d=n.n(u),c=n("/Ko3"),f=n.n(c),p=n("5nhJ"),h={components:{AModal:f.a,query:p.a},data:function(){return{maskClosable:!1,ModalText:"Content of the modal",visible:!1,confirmLoading:!1,structure:{fields:[{id:1,field:"user_name",text:"姓名",type:"input",options:[],isDuration:!1,isNumber:!1},{id:2,field:"name",text:"姓名",type:"input",options:[],isDuration:!1,isNumber:!1},{id:3,field:"groupid",text:"工作组",type:"input",options:[],isDuration:!1,isNumber:!1},{id:4,field:"first_dial",text:"首拨完成数",type:"input",options:[],isDuration:!1,isNumber:!0},{id:5,field:"appointment",text:"预约完成数",type:"input",options:[],isDuration:!1,isNumber:!0},{id:6,field:"success",text:"成功数",type:"input",options:[],isDuration:!1,isNumber:!0},{id:7,field:"failure",text:"失败数",type:"input",options:[],isDuration:!1,isNumber:!0},{id:8,field:"create_date",text:"日期",type:"date",options:[],isDuration:!1,isNumber:!1}],stringConditions:[{id:1,condition:"=",text:"等于",type:"input"},{id:2,condition:"like_contain",text:"包含",type:"input"}],numberConditions:[{id:1,condition:"=",text:"等于",type:"input"},{id:2,condition:"!=",text:"不等于",type:"input"},{id:3,condition:">",text:"大于",type:"input"},{id:4,condition:">=",text:"大于等于",type:"input"},{id:5,condition:"<",text:"小于",type:"input"},{id:6,condition:"<=",text:"小于等于",type:"input"}],connectionWay:[{connection:"与"},{connection:"或"}]}}},methods:{showQueryModal:function(){this.visible=!0},handleOk:function(e){var t=this,n=this;this.$refs.dialogtreeQuery.dataSource.forEach(function(e){e.fieldSelected&&(n.$refs.dialogtreeQuery.searchConditionResult=[].concat(o()(n.$refs.dialogtreeQuery.searchConditionResult),[{key:e.key,field:e.fieldSelected||{},condition:e.conditionSelected||{},value:n.$trim(e.value)||{}}]))}),this.ModalText="The modal will be closed after two seconds",this.confirmLoading=!0,setTimeout(function(){t.visible=!1,t.confirmLoading=!1,alert(d()(t.$refs.dialogtreeQuery.searchConditionResult)),t.$refs.dialogtreeQuery.searchConditionResult=[]},2e3)},handleCancel:function(e){this.visible=!1}}},m={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"queryModal"},[t("a-modal",{attrs:{title:"查询",visible:this.visible,maskClosable:this.maskClosable,confirmLoading:this.confirmLoading,width:"907px"},on:{ok:this.handleOk,cancel:this.handleCancel}},[t("query",{ref:"dialogtreeQuery",attrs:{structure:this.structure}})],1)],1)},staticRenderFns:[]},y=n("Mz/3")(h,m,!1,null,null,null).exports,g=n("Eg+s"),x=l.a.Group,v={props:{customerId:String},components:{ATable:a.a,AButton:l.a,AButtonGroup:x,queryModal:y,PageLayout:g.a},data:function(){return{dataSource:[],selectedRowKeys:[],loading:!1,loadingCallHistory:!1,filteredInfo:null,sortedInfo:null,pagination:{showQuickJumper:!0,pageSize:10}}},mounted:function(){this.getDataFromServer()},watch:{customerId:{handler:function(e){var t=this;this.loading=!0,setTimeout(function(){t.loading=!1,t.deleteLocalHistory()},1e3)}}},computed:{title:function(){return this.$route.meta.title},hasSelected:function(){return this.selectedRowKeys.length>0},columns:function(){var e=this.sortedInfo,t=this.filteredInfo;e=e||{},t=t||{};var n=[{title:"姓名",dataIndex:"seatName",key:"seatName",sorter:function(e,t){return e.seatName.length-t.seatName.length},sortOrder:"seatName"===e.columnKey&&e.order},{title:"工作组",dataIndex:"workTeam",key:"workTeam",sorter:function(e,t){return e.workTeam.length-t.workTeam.length},sortOrder:"workTeam"===e.columnKey&&e.order},{title:"首拨完成数",dataIndex:"firstDial",key:"user",sorter:function(e,t){return e.user.length-t.user.length},sortOrder:"user"===e.columnKey&&e.order},{title:"预约完成数",dataIndex:"appointment",key:"appointment",sorter:function(e,t){return e.appointment.length-t.appointment.length},sortOrder:"appointment"===e.columnKey&&e.order},{title:"成功数",dataIndex:"success",key:"success",sorter:function(e,t){return e.success.length-t.success.length},sortOrder:"success"===e.columnKey&&e.order},{title:"失败数",dataIndex:"failure",key:"failure",sorter:function(e,t){return e.failure.length-t.failure.length},sortOrder:"failure"===e.columnKey&&e.order},{title:"日期",dataIndex:"createDate",key:"createDate",sorter:function(e,t){return e.createDate.length-t.createDate.length},sortOrder:"createDate"===e.columnKey&&e.order}];return n}},methods:{onSelectChange:function(e){this.selectedRowKeys=e},showExportModal:function(){},getDataFromServer:function(){for(var e=0;e<25;e++)this.dataSource.push({key:e,id:e,seatName:"600"+e,workTeam:"工作组-"+e,firstDial:e,appointment:e,success:e,failure:e,createDate:"2018-08-"+e+" "+e+":00:00"})},deleteLocalHistory:function(){this.dataSource=[]},handleChange:function(e,t,n){this.filteredInfo=t,this.sortedInfo=n},onDelete:function(e){var t=this;this.$confirm({title:"你确定要踢除该坐席吗?",content:"Some descriptions",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){t.loading=!0,setTimeout(function(){t.loading=!1;var n=[].concat(o()(t.dataSource));t.dataSource=n.filter(function(t){return t.key!==e})},1e3)},onCancel:function(){}})},showQueryModel:function(){this.$refs.dialogtreeQueryModal.showQueryModal()}}},k={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("page-layout",{attrs:{title:e.title}},[n("template",{slot:"action"},[n("div",{staticClass:"interval-sovle"},[n("a-button-group",{staticStyle:{"margin-right":"8px"}},[n("a-button",{attrs:{icon:"export"},on:{click:e.showExportModal}},[e._v("\n          导出\n        ")])],1),e._v(" "),n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.showQueryModel}},[n("span",[e._v("查询")]),e._v(" "),n("queryModal",{ref:"dialogtreeQueryModal"})],1)],1)]),e._v(" "),n("div",{staticClass:"dailyMonitoringList"},[n("a-table",{attrs:{rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange},dataSource:e.dataSource,columns:e.columns,scroll:{x:1300},pagination:e.pagination,loading:e.loading},on:{change:e.handleChange},scopedSlots:e._u([{key:"operation",fn:function(t,i){return[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.onDelete(i.key)}}},[e._v("踢除")])]}}])})],1)],2)},staticRenderFns:[]};var b=n("Mz/3")(v,k,!1,function(e){n("qr2W")},null,null);t.default=b.exports},qr2W:function(e,t){}});
//# sourceMappingURL=18.f516b2b2ff3cae3d4d0c.js.map